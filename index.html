<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™”í•™ í•™ìŠµ í”„ë¡œê·¸ë¨ - ê³µìœ ê²°í•©ê³¼ ì´ì˜¨í™”í•©ë¬¼ v2.0</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="enhanced-styles.css">
    <link rel="stylesheet" href="dynamic-learning-styles.css">
    <link rel="stylesheet" href="interactive-problems.css">
    <link rel="stylesheet" href="progress-styles.css?v=2">
    <link rel="stylesheet" href="content-styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2196F3">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§ª</text></svg>">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ§ª í™”í•™ í•™ìŠµ í”„ë¡œê·¸ë¨</h1>
            <p class="subtitle">ê³µìœ ê²°í•©ê³¼ ì´ì˜¨í™”í•©ë¬¼ì„ ì¬ë¯¸ìˆê²Œ ë°°ì›Œë³´ì•„ìš”!</p>
        </header>

        <nav class="navigation">
            <button class="nav-btn active" data-section="learn">í•™ìŠµí•˜ê¸°</button>
            <button class="nav-btn" data-section="practice">ë¬¸ì œí’€ê¸°</button>
            <button class="nav-btn" data-section="progress">í•™ìŠµì§„ë„</button>
        </nav>

        <main id="content">
            <!-- í•™ìŠµ ì„¹ì…˜ -->
            <section id="learn" class="section active">
                <div class="topic-grid">
                    <div class="topic-card" data-topic="covalent">
                        <h3>ê³µìœ ê²°í•©</h3>
                        <div class="emoji-icon">ğŸ”—</div>
                        <p>ì›ìë“¤ì´ ì „ìë¥¼ ê³µìœ í•˜ì—¬ ë§Œë“œëŠ” ê²°í•©</p>
                        <button class="learn-btn" onclick="showTopic('covalent')">í•™ìŠµí•˜ê¸°</button>
                    </div>
                    
                    <div class="topic-card" data-topic="ionic">
                        <h3>ì´ì˜¨í™”í•©ë¬¼</h3>
                        <div class="emoji-icon">âš¡</div>
                        <p>ì–‘ì´ì˜¨ê³¼ ìŒì´ì˜¨ì´ ë§Œë‚˜ ë§Œë“œëŠ” í™”í•©ë¬¼</p>
                        <button class="learn-btn" onclick="showTopic('ionic')">í•™ìŠµí•˜ê¸°</button>
                    </div>
                    
                    <div class="topic-card" data-topic="molecular">
                        <h3>ë¶„ì êµ¬ì¡°</h3>
                        <div class="emoji-icon">ğŸ§¬</div>
                        <p>ë¶„ìì˜ 3ì°¨ì› êµ¬ì¡°ì™€ VSEPR ì´ë¡ </p>
                        <button class="learn-btn" onclick="showTopic('molecular')">í•™ìŠµí•˜ê¸°</button>
                    </div>
                    
                    <div class="topic-card" data-topic="bonding">
                        <h3>ê²°í•©ì˜ ì„¸ê¸°</h3>
                        <div class="emoji-icon">ğŸ’ª</div>
                        <p>ë‹¨ì¼ê²°í•©, ì´ì¤‘ê²°í•©, ì‚¼ì¤‘ê²°í•©ì˜ ì°¨ì´</p>
                        <button class="learn-btn" onclick="showTopic('bonding')">í•™ìŠµí•˜ê¸°</button>
                    </div>
                    
                    <div class="topic-card" data-topic="reactions">
                        <h3>í™”í•™ ë°˜ì‘</h3>
                        <div class="emoji-icon">âš—ï¸</div>
                        <p>ì—°ì†Œ, ì¤‘í™”, ì‚°í™”-í™˜ì› ë°˜ì‘ì˜ ì´í•´</p>
                        <button class="learn-btn" onclick="showTopic('reactions')">í•™ìŠµí•˜ê¸°</button>
                    </div>
                    
                    <div class="topic-card" data-topic="dailyChemistry">
                        <h3>ì¼ìƒ ì† í™”í•™</h3>
                        <div class="emoji-icon">ğŸ </div>
                        <p>ìƒí™œì—ì„œ ë§Œë‚˜ëŠ” í™”í•™ í˜„ìƒê³¼ ì›ë¦¬</p>
                        <button class="learn-btn" onclick="showTopic('dailyChemistry')">í•™ìŠµí•˜ê¸°</button>
                    </div>
                </div>
                
                <div id="topic-content" class="topic-content" style="display:none;">
                    <!-- ë™ì ìœ¼ë¡œ ë‚´ìš©ì´ ë¡œë“œë©ë‹ˆë‹¤ -->
                </div>
            </section>

            <!-- ë¬¸ì œ í’€ê¸° ì„¹ì…˜ -->
            <section id="practice" class="section">
                <div class="practice-header">
                    <h2>ë¬¸ì œ í’€ì–´ë³´ê¸°</h2>
                    <div class="difficulty-selector">
                        <label>ë‚œì´ë„:</label>
                        <select id="difficulty">
                            <option value="easy">ì‰¬ì›€</option>
                            <option value="medium" selected>ë³´í†µ</option>
                            <option value="hard">ì–´ë ¤ì›€</option>
                        </select>
                        <div class="adaptive-info">
                            <span id="adaptive-difficulty">ì„ íƒëœ ë‚œì´ë„: ë³´í†µ ğŸ“˜</span>
                            <div class="learning-streak">
                                <span id="current-streak">ì—°ì† ì •ë‹µ: 0</span> ğŸ”¥
                            </div>
                            <button onclick="resetPracticeTopic()" class="reset-topic-btn" title="ì¼ë°˜ ë¬¸ì œí’€ì´ë¡œ ì „í™˜">ğŸ”„ ì „ì²´ ë¬¸ì œ</button>
                        </div>
                    </div>
                </div>
                
                <!-- í•™ìŠµ ì§„ë„ ë¯¸ë‹ˆ ëŒ€ì‹œë³´ë“œ -->
                <div class="mini-dashboard">
                    <div class="mini-stat">
                        <span class="mini-stat-label">ë ˆë²¨</span>
                        <span id="current-level" class="mini-stat-value">1</span>
                    </div>
                    <div class="mini-stat">
                        <span class="mini-stat-label">ì •ë‹µë¥ </span>
                        <span id="current-accuracy" class="mini-stat-value">0%</span>
                    </div>
                    <div class="mini-stat">
                        <span class="mini-stat-label">ì•½ì  ì˜ì—­</span>
                        <span id="weak-area" class="mini-stat-value">-</span>
                    </div>
                </div>
                
                <div id="question-container" class="question-container">
                    <div class="question-header">
                        <span id="question-number">ë¬¸ì œ 1</span>
                        <span id="score">ì ìˆ˜: 0</span>
                    </div>
                    
                    <div id="question-content" class="question-content">
                        <!-- ë¬¸ì œê°€ ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
                    </div>
                    
                    <div id="answer-section" class="answer-section">
                        <!-- ë‹µë³€ ì…ë ¥ ì˜ì—­ -->
                    </div>
                    
                    <div class="button-group">
                        <button id="submit-btn" class="submit-btn" onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
                        <button id="next-btn" class="next-btn" onclick="loadNextQuestion()" style="display:none;">ë‹¤ìŒ ë¬¸ì œ</button>
                        <button id="hint-btn" class="hint-btn" onclick="showSmartHint()">ìŠ¤ë§ˆíŠ¸ íŒíŠ¸</button>
                        <button id="visual-aid-btn" class="visual-btn" onclick="showSimpleVisualAid()" style="display:none !important;">ì‹œê°ì  ì„¤ëª…</button>
                    </div>
                    
                    <div id="feedback" class="feedback"></div>
                    
                    <!-- í–¥ìƒëœ í”¼ë“œë°± ì˜ì—­ -->
                    <div id="enhanced-feedback" class="enhanced-feedback" style="display:none;">
                        <div id="learning-tips" class="learning-section"></div>
                        <div id="related-concepts" class="learning-section"></div>
                        <div id="next-steps" class="learning-section"></div>
                    </div>
                    
                    <!-- ë¶„ì ì‹œê°í™” ì˜ì—­ -->
                    <div id="molecule-visualization" class="molecule-viz" style="display:none;">
                        <h4>ë¶„ì êµ¬ì¡° ì‹œê°í™”</h4>
                        <canvas id="molecule-display" width="400" height="300"></canvas>
                        <div class="viz-controls">
                            <button onclick="hideVisualExplanation()">ë‹«ê¸°</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- í•™ìŠµ ì§„ë„ ì„¹ì…˜ -->
            <section id="progress" class="section">
                <h2>ğŸ“Š ë‚˜ì˜ í•™ìŠµ ì§„ë„</h2>
                
                <!-- ì¢…í•© í†µê³„ -->
                <div class="progress-overview">
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸ“š</div>
                        <div class="stat-content">
                            <h3>ì´ í•™ìŠµ ì‹œê°„</h3>
                            <p id="total-time">0ë¶„</p>
                            <small>ì˜¤ëŠ˜: <span id="today-time">0ë¶„</span></small>
                        </div>
                    </div>
                    
                    <div class="stat-card success">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-content">
                            <h3>í‘¼ ë¬¸ì œ ìˆ˜</h3>
                            <p id="total-questions">0ë¬¸ì œ</p>
                            <small>ì˜¤ëŠ˜: <span id="today-questions">0ë¬¸ì œ</span></small>
                        </div>
                    </div>
                    
                    <div class="stat-card info">
                        <div class="stat-icon">ğŸ¯</div>
                        <div class="stat-content">
                            <h3>ì „ì²´ ì •ë‹µë¥ </h3>
                            <p id="accuracy">0%</p>
                            <small>ìµœê·¼ 10ë¬¸ì œ: <span id="recent-accuracy">0%</span></small>
                        </div>
                    </div>
                    
                    <div class="stat-card warning">
                        <div class="stat-icon">ğŸ†</div>
                        <div class="stat-content">
                            <h3>ìµœê³  ì ìˆ˜</h3>
                            <p id="high-score">0ì </p>
                            <small>ì—°ì† ì •ë‹µ: <span id="max-streak">0ê°œ</span></small>
                        </div>
                    </div>
                </div>

                <!-- ì£¼ì œë³„ ìƒì„¸ ì§„ë„ -->
                <div class="topic-progress">
                    <h3>ğŸ“ˆ ì£¼ì œë³„ í•™ìŠµ í˜„í™©</h3>
                    <div id="topic-progress-detail">
                        <!-- ì£¼ì œë³„ ì§„ë„ê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- í•™ìŠµ í™œë™ ì°¨íŠ¸ -->
                <div class="activity-chart">
                    <h3>ğŸ“… ìµœê·¼ 7ì¼ í•™ìŠµ í™œë™</h3>
                    <div id="activity-chart">
                        <!-- í™œë™ ì°¨íŠ¸ê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- ì„±ì·¨ ì‹œìŠ¤í…œ -->
                <div class="achievements">
                    <h3>ğŸ… íšë“í•œ ë°°ì§€</h3>
                    <div id="achievement-grid">
                        <!-- ë°°ì§€ê°€ ë™ì ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- í•™ìŠµ ì¶”ì²œ -->
                <div class="learning-recommendations">
                    <h3>ğŸ’¡ í•™ìŠµ ì¶”ì²œ</h3>
                    <div id="recommendations">
                        <!-- ê°œì¸í™”ëœ ì¶”ì²œì´ í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- í•™ìŠµ í†µê³„ ë¦¬ì…‹ -->
                <div class="progress-controls">
                    <button onclick="exportProgress()" class="btn-secondary">ğŸ“‹ ì§„ë„ ë‚´ë³´ë‚´ê¸°</button>
                    <button onclick="resetProgress()" class="btn-danger">ğŸ”„ í†µê³„ ì´ˆê¸°í™”</button>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 í™”í•™ í•™ìŠµ í”„ë¡œê·¸ë¨. ì¤‘í•™ìƒì„ ìœ„í•œ ì¬ë¯¸ìˆëŠ” í™”í•™ í•™ìŠµ!</p>
        </footer>
    </div>

    <!-- ë¶„ì ì‹œê°í™”ë¥¼ ìœ„í•œ ìº”ë²„ìŠ¤ -->
    <canvas id="molecule-canvas" style="display:none;"></canvas>
    
    <script src="app.js?v=9"></script>
    <script src="problems.js?v=10"></script>
    <script src="content.js?v=7"></script>
    <script src="molecule-viewer.js?v=6"></script>
    <script src="enhanced-problems.js?v=6"></script>
    <script src="gamification.js?v=6"></script>
    <script src="progress.js?v=3"></script>
    <!-- enhanced-learning.js ì™„ì „ ë¹„í™œì„±í™” -->
    <script src="visual-aid.js?v=6"></script>
    
    <!-- ì¸ë¼ì¸ ì‹œê°ì  ì„¤ëª… í•¨ìˆ˜ -->
    <script>
        function showSimpleVisualAid() {
            console.log('ê°„ë‹¨í•œ ì‹œê°ì  ì„¤ëª… í˜¸ì¶œë¨');
            
            const container = document.getElementById('molecule-visualization');
            if (!container) {
                alert('ì‹œê°í™” ì˜ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            let explanation = 'ì´ ë¬¸ì œì— ëŒ€í•œ ì¶”ê°€ ì„¤ëª…ì…ë‹ˆë‹¤.';
            let hint = '';
            
            if (window.currentQuestion) {
                explanation = window.currentQuestion.explanation || explanation;
                hint = window.currentQuestion.hint || '';
            }
            
            container.innerHTML = `
                <h4>ğŸ”¬ ì‹œê°ì  ì„¤ëª…</h4>
                <div class="visual-content">
                    <div class="explanation-section">
                        <h5>ğŸ’¡ ë¬¸ì œ í•´ì„¤</h5>
                        <p>${explanation}</p>
                        ${hint ? `<p><strong>íŒíŠ¸:</strong> ${hint}</p>` : ''}
                    </div>
                </div>
                <div class="viz-controls">
                    <button onclick="hideSimpleVisualAid()">ë‹«ê¸°</button>
                </div>
            `;
            
            container.style.display = 'block';
            
            const btn = document.getElementById('visual-aid-btn');
            if (btn) btn.style.display = 'none';
        }
        
        function hideSimpleVisualAid() {
            const container = document.getElementById('molecule-visualization');
            if (container) container.style.display = 'none';
            
            const btn = document.getElementById('visual-aid-btn');
            if (btn) btn.style.display = 'inline-block';
        }
    </script>

    <!-- Service Worker ì œê±° ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        // ê¸°ì¡´ Service Worker ë“±ë¡ í•´ì œ
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) {
                    registration.unregister();
                    console.log('Service Worker ë“±ë¡ í•´ì œë¨');
                }
            });
        }
    </script>
</body>
</html>